# 项目使用说明

## 项目概述
这是一个基于PyQt5的桌面应用程序，包含全屏浏览器、桌面管理、AI聊天、桌面宠物等多个功能模块。

## 新的项目结构
项目已经重新整理，按功能模块清晰分类：

```
新建文件夹/
├── main.py                     # 主启动文件
├── requirements.txt            # 项目依赖
├── src/                        # 源代码目录
│   ├── core/                   # 核心配置
│   ├── ui/                     # 用户界面
│   │   ├── widgets/            # UI组件
│   │   ├── screens/            # 屏幕页面
│   │   └── dialogs/            # 对话框
│   ├── desktop/                # 桌面管理
│   ├── browser/                # 浏览器
│   ├── api/                    # API接口
│   ├── utils/                  # 工具模块
│   └── reports/                # 报告管理
├── resources/                  # 资源文件
│   ├── assets/                 # 媒体资源
│   │   ├── images/             # 图片资源
│   │   └── config/             # 配置文件
│   └── documents/              # 文档资源
├── tests/                      # 测试文件
├── data/                       # 数据目录
├── backup/                     # 备份文件
└── docs/                       # 项目文档
```

## 启动方式

### 使用主启动文件（推荐）
```bash
# 启动全屏浏览器
python main.py browser

# 启动桌面管理器
python main.py desktop

# 启动桌面宠物
python main.py pet

# 启动聊天窗口
python main.py chat
```

### 直接启动模块
如果你熟悉项目结构，也可以直接运行特定模块：
```bash
# 启动桌面管理器
python -m src.desktop.desktop_manager

# 启动全屏浏览器
python -m src.browser.fullscreen_browser
```

## 主要功能模块

### 1. 桌面管理器 (`src/desktop/`)
- **功能**: 桌面图标管理、任务管理、用户信息显示
- **启动**: `python main.py desktop`
- **特点**: 悬浮在桌面顶部，提供快速访问功能

### 2. 全屏浏览器 (`src/browser/`)
- **功能**: 全屏显示网页，支持localhost:3000
- **启动**: `python main.py browser`
- **快捷键**: ESC退出、F11切换全屏、F5刷新

### 3. 桌面宠物 (`src/ui/widgets/pet_widget.py`)
- **功能**: 可爱的桌面宠物，支持拖拽和动画
- **启动**: `python main.py pet`
- **交互**: 单击播放动画、双击打开聊天

### 4. AI聊天 (`src/ui/widgets/chat_widget.py`)
- **功能**: 与AI进行对话聊天
- **启动**: `python main.py chat`
- **特点**: 现代化UI设计，支持实时对话

### 5. 在线聊天 (`src/ui/widgets/online_chat_widget.py`)
- **功能**: 多用户在线聊天室
- **特点**: 支持文件上传、图片发送、用户管理

## 配置说明

### 核心配置 (`src/core/config.py`)
- OpenAI API配置
- 资源路径配置
- 界面参数设置

### API配置 (`src/core/api_config.py`)
- API服务器地址
- 认证信息
- 请求参数

### 聊天配置 (`resources/assets/config/online_chat_config.py`)
- 聊天服务器配置
- 用户头像设置
- 消息格式配置

## 资源文件组织

### 图片资源 (`resources/assets/images/`)
- **icons/**: 界面图标（关闭按钮、用户头像等）
- **pets/**: 宠物动画图片（idle、wave、happy等）
- **roles/**: 角色头像（工程师、架构师等）

### 配置文件 (`resources/assets/config/`)
- 在线聊天配置
- API接口配置

### 文档资源 (`resources/documents/`)
- 项目管理文档
- PDF报告文件

## 数据存储

### 缓存数据 (`data/cache/`)
- 在线聊天缓存
- 临时文件存储

### 日志文件 (`data/logs/`)
- 应用程序日志
- 错误记录

### 导出文件 (`data/exports/`)
- 进度报告导出
- 其他导出数据

## 开发说明

### 添加新功能
1. 在相应的模块目录下创建新文件
2. 更新相关的`__init__.py`文件
3. 在`main.py`中添加启动选项（如需要）

### 修改资源路径
所有资源路径都在`src/core/config.py`中统一管理，修改资源位置只需更新配置文件。

### 模块导入
使用绝对导入：
```python
from src.core import config
from src.ui.widgets.pet_widget import PetWidget
```

## 故障排除

### 常见问题
1. **导入错误**: 确保项目根目录在Python路径中
2. **资源文件找不到**: 检查`src/core/config.py`中的路径配置
3. **模块启动失败**: 确保所有依赖都已安装（`pip install -r requirements.txt`）

### 依赖安装
```bash
pip install -r requirements.txt
```

## 更新日志
- **2024-06-28**: 完成项目文件重新整理，按功能模块分类组织
- 创建模块化的目录结构
- 更新所有导入路径
- 添加统一的主启动文件

## 联系信息
如有问题或建议，请查看项目文档或联系开发团队。 