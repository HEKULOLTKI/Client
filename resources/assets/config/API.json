{
    "openapi": "3.1.0",
    "info": {
      "title": "多智能体协作运维系统",
      "description": "多智能体协作运维系统 - 后端API",
      "version": "1.0.0"
    },
    "paths": {
      "/api/auth/login": {
        "post": {
          "tags": [
            "用户认证"
          ],
          "summary": "Login For Access Token",
          "description": "用户登录",
          "operationId": "login_for_access_token_api_auth_login_post",
          "requestBody": {
            "content": {
              "application/x-www-form-urlencoded": {
                "schema": {
                  "$ref": "#/components/schemas/Body_login_for_access_token_api_auth_login_post"
                }
              }
            },
            "required": true
          },
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/Token"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/auth/logout": {
        "post": {
          "tags": [
            "用户认证"
          ],
          "summary": "Logout",
          "description": "用户主动登出",
          "operationId": "logout_api_auth_logout_post",
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            }
          },
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ]
        },
        "options": {
          "tags": [
            "用户认证"
          ],
          "summary": "Options Logout",
          "description": "处理登出接口的OPTIONS预检请求",
          "operationId": "options_logout_api_auth_logout_options",
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            }
          }
        }
      },
      "/api/auth/me": {
        "get": {
          "tags": [
            "用户认证"
          ],
          "summary": "Read Users Me",
          "description": "获取当前用户信息",
          "operationId": "read_users_me_api_auth_me_get",
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/UserResponse"
                  }
                }
              }
            }
          },
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ]
        }
      },
      "/api/auth/refresh": {
        "post": {
          "tags": [
            "用户认证"
          ],
          "summary": "Refresh Token",
          "description": "刷新访问令牌",
          "operationId": "refresh_token_api_auth_refresh_post",
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/Token"
                  }
                }
              }
            }
          },
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ]
        }
      },
      "/api/auth/online-users": {
        "get": {
          "tags": [
            "用户认证"
          ],
          "summary": "Get Online Users",
          "description": "获取在线用户列表（需要登录）",
          "operationId": "get_online_users_api_auth_online_users_get",
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            }
          },
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ]
        }
      },
      "/api/auth/online-status/{user_id}": {
        "get": {
          "tags": [
            "用户认证"
          ],
          "summary": "Get User Online Status",
          "description": "获取指定用户的在线状态",
          "operationId": "get_user_online_status_api_auth_online_status__user_id__get",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "user_id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "title": "User Id"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/auth/login-records": {
        "get": {
          "tags": [
            "用户认证"
          ],
          "summary": "Get My Login Records",
          "description": "获取当前用户的登录记录",
          "operationId": "get_my_login_records_api_auth_login_records_get",
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            }
          },
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ]
        }
      },
      "/api/auth/system-stats": {
        "get": {
          "tags": [
            "用户认证"
          ],
          "summary": "Get System Stats",
          "description": "获取系统统计信息",
          "operationId": "get_system_stats_api_auth_system_stats_get",
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            }
          },
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ]
        }
      },
      "/api/auth/user-session-info": {
        "get": {
          "tags": [
            "用户认证"
          ],
          "summary": "Get User Session Info",
          "description": "获取用户会话和在线信息",
          "operationId": "get_user_session_info_api_auth_user_session_info_get",
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            }
          },
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ]
        }
      },
      "/api/auth/online-duration": {
        "get": {
          "tags": [
            "用户认证"
          ],
          "summary": "Get User Online Duration",
          "description": "获取当前用户的在线时长和剩余时间",
          "operationId": "get_user_online_duration_api_auth_online_duration_get",
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            }
          },
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ]
        }
      },
      "/api/auth/check-timeout": {
        "get": {
          "tags": [
            "用户认证"
          ],
          "summary": "Check User Timeout",
          "description": "检查当前用户是否已超时",
          "operationId": "check_user_timeout_api_auth_check_timeout_get",
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            }
          },
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ]
        }
      },
      "/api/auth/user-complete-info": {
        "get": {
          "tags": [
            "用户认证"
          ],
          "summary": "Get User Complete Info",
          "description": "获取当前用户的完整信息（包含明文密码），用于数据同步",
          "operationId": "get_user_complete_info_api_auth_user_complete_info_get",
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            }
          },
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ]
        },
        "options": {
          "tags": [
            "用户认证"
          ],
          "summary": "Options User Complete Info",
          "description": "处理用户完整信息接口的OPTIONS预检请求",
          "operationId": "options_user_complete_info_api_auth_user_complete_info_options",
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            }
          }
        }
      },
      "/api/users": {
        "get": {
          "tags": [
            "用户管理"
          ],
          "summary": "Get Users",
          "description": "获取用户列表（管理员权限）",
          "operationId": "get_users_api_users_get",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "skip",
              "in": "query",
              "required": false,
              "schema": {
                "type": "integer",
                "minimum": 0,
                "description": "跳过的记录数",
                "default": 0,
                "title": "Skip"
              },
              "description": "跳过的记录数"
            },
            {
              "name": "limit",
              "in": "query",
              "required": false,
              "schema": {
                "type": "integer",
                "maximum": 1000,
                "minimum": 1,
                "description": "返回的记录数",
                "default": 100,
                "title": "Limit"
              },
              "description": "返回的记录数"
            },
            {
              "name": "role",
              "in": "query",
              "required": false,
              "schema": {
                "type": "string",
                "description": "筛选角色",
                "title": "Role"
              },
              "description": "筛选角色"
            },
            {
              "name": "user_type",
              "in": "query",
              "required": false,
              "schema": {
                "type": "string",
                "description": "筛选用户类型",
                "title": "User Type"
              },
              "description": "筛选用户类型"
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/UserResponse"
                    },
                    "title": "Response Get Users Api Users Get"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        },
        "post": {
          "tags": [
            "用户管理"
          ],
          "summary": "Create User",
          "description": "创建用户（管理员权限）",
          "operationId": "create_user_api_users_post",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserCreate"
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/UserResponse"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/users/{user_id}": {
        "get": {
          "tags": [
            "用户管理"
          ],
          "summary": "Get User",
          "description": "获取指定用户信息（管理员权限）",
          "operationId": "get_user_api_users__user_id__get",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "user_id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "title": "User Id"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/UserResponse"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        },
        "put": {
          "tags": [
            "用户管理"
          ],
          "summary": "Update User",
          "description": "更新用户信息（管理员权限）",
          "operationId": "update_user_api_users__user_id__put",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "user_id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "title": "User Id"
              }
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserUpdate"
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/UserResponse"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        },
        "delete": {
          "tags": [
            "用户管理"
          ],
          "summary": "Delete User",
          "description": "删除用户（管理员权限）",
          "operationId": "delete_user_api_users__user_id__delete",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "user_id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "title": "User Id"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/users/{user_id}/status": {
        "patch": {
          "tags": [
            "用户管理"
          ],
          "summary": "Update User Status",
          "description": "更新用户状态（管理员权限）",
          "operationId": "update_user_status_api_users__user_id__status_patch",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "user_id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "title": "User Id"
              }
            },
            {
              "name": "status",
              "in": "query",
              "required": true,
              "schema": {
                "type": "string",
                "description": "用户状态",
                "title": "Status"
              },
              "description": "用户状态"
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/UserResponse"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/me": {
        "get": {
          "tags": [
            "用户管理"
          ],
          "summary": "Get Current User Info",
          "description": "获取当前用户信息",
          "operationId": "get_current_user_info_api_me_get",
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/UserResponse"
                  }
                }
              }
            }
          },
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ]
        }
      },
      "/api/profile": {
        "put": {
          "tags": [
            "用户管理"
          ],
          "summary": "Update Profile",
          "description": "更新个人资料",
          "operationId": "update_profile_api_profile_put",
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserUpdate"
                }
              }
            },
            "required": true
          },
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/UserResponse"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          },
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ]
        }
      },
      "/api/users/bulk-import": {
        "post": {
          "tags": [
            "用户管理"
          ],
          "summary": "Bulk Import Users",
          "description": "批量导入用户（管理员权限）",
          "operationId": "bulk_import_users_api_users_bulk_import_post",
          "requestBody": {
            "content": {
              "multipart/form-data": {
                "schema": {
                  "$ref": "#/components/schemas/Body_bulk_import_users_api_users_bulk_import_post"
                }
              }
            },
            "required": true
          },
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/BulkImportResult"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          },
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ]
        }
      },
      "/api/users/template/download": {
        "get": {
          "tags": [
            "用户管理"
          ],
          "summary": "Download User Template",
          "description": "下载用户导入模板",
          "operationId": "download_user_template_api_users_template_download_get",
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            }
          }
        }
      },
      "/api/tasks": {
        "get": {
          "tags": [
            "任务管理"
          ],
          "summary": "Get Tasks",
          "description": "获取任务列表",
          "operationId": "get_tasks_api_tasks_get",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "skip",
              "in": "query",
              "required": false,
              "schema": {
                "type": "integer",
                "minimum": 0,
                "description": "跳过的记录数",
                "default": 0,
                "title": "Skip"
              },
              "description": "跳过的记录数"
            },
            {
              "name": "limit",
              "in": "query",
              "required": false,
              "schema": {
                "type": "integer",
                "maximum": 1000,
                "minimum": 1,
                "description": "限制返回的记录数",
                "default": 100,
                "title": "Limit"
              },
              "description": "限制返回的记录数"
            },
            {
              "name": "status",
              "in": "query",
              "required": false,
              "schema": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "description": "任务状态过滤",
                "title": "Status"
              },
              "description": "任务状态过滤"
            },
            {
              "name": "task_type",
              "in": "query",
              "required": false,
              "schema": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "description": "任务类型过滤",
                "title": "Task Type"
              },
              "description": "任务类型过滤"
            },
            {
              "name": "role_binding",
              "in": "query",
              "required": false,
              "schema": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "description": "绑定角色过滤",
                "title": "Role Binding"
              },
              "description": "绑定角色过滤"
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/Task"
                    },
                    "title": "Response Get Tasks Api Tasks Get"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        },
        "post": {
          "tags": [
            "任务管理"
          ],
          "summary": "Create Task",
          "description": "创建任务",
          "operationId": "create_task_api_tasks_post",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskCreate"
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/Task"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/tasks/count": {
        "get": {
          "tags": [
            "任务管理"
          ],
          "summary": "Get Tasks Count",
          "description": "获取任务总数",
          "operationId": "get_tasks_count_api_tasks_count_get",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "status",
              "in": "query",
              "required": false,
              "schema": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "description": "任务状态过滤",
                "title": "Status"
              },
              "description": "任务状态过滤"
            },
            {
              "name": "task_type",
              "in": "query",
              "required": false,
              "schema": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "description": "任务类型过滤",
                "title": "Task Type"
              },
              "description": "任务类型过滤"
            },
            {
              "name": "role_binding",
              "in": "query",
              "required": false,
              "schema": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "description": "绑定角色过滤",
                "title": "Role Binding"
              },
              "description": "绑定角色过滤"
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/tasks/by-role/{role_name}": {
        "get": {
          "tags": [
            "任务管理"
          ],
          "summary": "Get Tasks By Role",
          "description": "根据角色获取任务列表",
          "operationId": "get_tasks_by_role_api_tasks_by_role__role_name__get",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "role_name",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string",
                "title": "Role Name"
              }
            },
            {
              "name": "skip",
              "in": "query",
              "required": false,
              "schema": {
                "type": "integer",
                "minimum": 0,
                "description": "跳过的记录数",
                "default": 0,
                "title": "Skip"
              },
              "description": "跳过的记录数"
            },
            {
              "name": "limit",
              "in": "query",
              "required": false,
              "schema": {
                "type": "integer",
                "maximum": 1000,
                "minimum": 1,
                "description": "限制返回的记录数",
                "default": 100,
                "title": "Limit"
              },
              "description": "限制返回的记录数"
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/Task"
                    },
                    "title": "Response Get Tasks By Role Api Tasks By Role  Role Name  Get"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/tasks/{task_id}": {
        "get": {
          "tags": [
            "任务管理"
          ],
          "summary": "Get Task",
          "description": "根据ID获取任务详情（包含分配信息）",
          "operationId": "get_task_api_tasks__task_id__get",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "task_id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "title": "Task Id"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/TaskWithAssignments"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        },
        "put": {
          "tags": [
            "任务管理"
          ],
          "summary": "Update Task",
          "description": "更新任务",
          "operationId": "update_task_api_tasks__task_id__put",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "task_id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "title": "Task Id"
              }
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskUpdate"
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/Task"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        },
        "delete": {
          "tags": [
            "任务管理"
          ],
          "summary": "Delete Task",
          "description": "删除任务",
          "operationId": "delete_task_api_tasks__task_id__delete",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "task_id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "title": "Task Id"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/tasks/bulk-import": {
        "post": {
          "tags": [
            "任务管理"
          ],
          "summary": "Bulk Import Tasks",
          "description": "批量导入任务（管理员权限）",
          "operationId": "bulk_import_tasks_api_tasks_bulk_import_post",
          "requestBody": {
            "content": {
              "multipart/form-data": {
                "schema": {
                  "$ref": "#/components/schemas/Body_bulk_import_tasks_api_tasks_bulk_import_post"
                }
              }
            },
            "required": true
          },
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/TaskBulkImportResult"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          },
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ]
        }
      },
      "/api/task-assignments": {
        "get": {
          "tags": [
            "任务管理"
          ],
          "summary": "Get Task Assignments",
          "description": "获取任务分配列表",
          "operationId": "get_task_assignments_api_task_assignments_get",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "skip",
              "in": "query",
              "required": false,
              "schema": {
                "type": "integer",
                "minimum": 0,
                "description": "跳过的记录数",
                "default": 0,
                "title": "Skip"
              },
              "description": "跳过的记录数"
            },
            {
              "name": "limit",
              "in": "query",
              "required": false,
              "schema": {
                "type": "integer",
                "maximum": 1000,
                "minimum": 1,
                "description": "限制返回的记录数",
                "default": 100,
                "title": "Limit"
              },
              "description": "限制返回的记录数"
            },
            {
              "name": "status",
              "in": "query",
              "required": false,
              "schema": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "description": "分配状态过滤",
                "title": "Status"
              },
              "description": "分配状态过滤"
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/TaskAssignmentResponse"
                    },
                    "title": "Response Get Task Assignments Api Task Assignments Get"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        },
        "post": {
          "tags": [
            "任务管理"
          ],
          "summary": "Create Task Assignment",
          "description": "创建任务分配",
          "operationId": "create_task_assignment_api_task_assignments_post",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskAssignmentCreate"
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/TaskAssignmentResponse"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/tasks/{task_id}/assignments": {
        "get": {
          "tags": [
            "任务管理"
          ],
          "summary": "Get Task Assignments By Task",
          "description": "根据任务ID获取分配列表",
          "operationId": "get_task_assignments_by_task_api_tasks__task_id__assignments_get",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "task_id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "title": "Task Id"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/TaskAssignmentResponse"
                    },
                    "title": "Response Get Task Assignments By Task Api Tasks  Task Id  Assignments Get"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/users/{user_id}/task-assignments": {
        "get": {
          "tags": [
            "任务管理"
          ],
          "summary": "Get User Task Assignments",
          "description": "根据用户ID获取任务分配列表",
          "operationId": "get_user_task_assignments_api_users__user_id__task_assignments_get",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "user_id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "title": "User Id"
              }
            },
            {
              "name": "status",
              "in": "query",
              "required": false,
              "schema": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "description": "分配状态过滤",
                "title": "Status"
              },
              "description": "分配状态过滤"
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/TaskAssignmentResponse"
                    },
                    "title": "Response Get User Task Assignments Api Users  User Id  Task Assignments Get"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/users/{user_id}/task-stats": {
        "get": {
          "tags": [
            "任务管理"
          ],
          "summary": "Get User Task Stats",
          "description": "获取用户任务统计",
          "operationId": "get_user_task_stats_api_users__user_id__task_stats_get",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "user_id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "title": "User Id"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/task-assignments/stats": {
        "get": {
          "tags": [
            "任务管理"
          ],
          "summary": "Get Task Assignments Stats",
          "description": "获取全部任务分配统计",
          "operationId": "get_task_assignments_stats_api_task_assignments_stats_get",
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            }
          },
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ]
        }
      },
      "/api/task-assignments/{assignment_id}": {
        "put": {
          "tags": [
            "任务管理"
          ],
          "summary": "Update Task Assignment",
          "description": "更新任务分配",
          "operationId": "update_task_assignment_api_task_assignments__assignment_id__put",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "assignment_id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "title": "Assignment Id"
              }
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskAssignmentUpdate"
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/TaskAssignmentResponse"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        },
        "delete": {
          "tags": [
            "任务管理"
          ],
          "summary": "Delete Task Assignment",
          "description": "删除任务分配",
          "operationId": "delete_task_assignment_api_task_assignments__assignment_id__delete",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "assignment_id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "title": "Assignment Id"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/my-tasks": {
        "get": {
          "tags": [
            "任务管理"
          ],
          "summary": "Get My Tasks",
          "description": "获取当前用户的任务分配",
          "operationId": "get_my_tasks_api_my_tasks_get",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "status",
              "in": "query",
              "required": false,
              "schema": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "description": "任务状态过滤",
                "title": "Status"
              },
              "description": "任务状态过滤"
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/TaskAssignmentResponse"
                    },
                    "title": "Response Get My Tasks Api My Tasks Get"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/my-task-stats": {
        "get": {
          "tags": [
            "任务管理"
          ],
          "summary": "Get My Task Stats",
          "description": "获取当前用户的任务统计",
          "operationId": "get_my_task_stats_api_my_task_stats_get",
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            }
          },
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ]
        }
      },
      "/api/my-tasks/{assignment_id}": {
        "put": {
          "tags": [
            "任务管理"
          ],
          "summary": "Update My Task",
          "description": "更新我的任务进度（管理员可以更新所有用户的任务）",
          "operationId": "update_my_task_api_my_tasks__assignment_id__put",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "assignment_id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "title": "Assignment Id"
              }
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskAssignmentUpdate"
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/TaskAssignmentResponse"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/devices": {
        "get": {
          "tags": [
            "设备管理"
          ],
          "summary": "Get Devices",
          "description": "获取设备列表",
          "operationId": "get_devices_api_devices_get",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "skip",
              "in": "query",
              "required": false,
              "schema": {
                "type": "integer",
                "default": 0,
                "title": "Skip"
              }
            },
            {
              "name": "limit",
              "in": "query",
              "required": false,
              "schema": {
                "type": "integer",
                "default": 100,
                "title": "Limit"
              }
            },
            {
              "name": "name",
              "in": "query",
              "required": false,
              "schema": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Name"
              }
            },
            {
              "name": "type",
              "in": "query",
              "required": false,
              "schema": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Type"
              }
            },
            {
              "name": "status",
              "in": "query",
              "required": false,
              "schema": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Status"
              }
            },
            {
              "name": "location",
              "in": "query",
              "required": false,
              "schema": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Location"
              }
            },
            {
              "name": "ip",
              "in": "query",
              "required": false,
              "schema": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Ip"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/DeviceListResponse"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        },
        "post": {
          "tags": [
            "设备管理"
          ],
          "summary": "Create Device",
          "description": "创建设备",
          "operationId": "create_device_api_devices_post",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeviceCreate"
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/DeviceResponse"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/devices/{device_id}": {
        "get": {
          "tags": [
            "设备管理"
          ],
          "summary": "Get Device",
          "description": "获取单个设备详情",
          "operationId": "get_device_api_devices__device_id__get",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "device_id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "title": "Device Id"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/DeviceResponse"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        },
        "put": {
          "tags": [
            "设备管理"
          ],
          "summary": "Update Device",
          "description": "更新设备",
          "operationId": "update_device_api_devices__device_id__put",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "device_id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "title": "Device Id"
              }
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeviceUpdate"
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/DeviceResponse"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        },
        "delete": {
          "tags": [
            "设备管理"
          ],
          "summary": "Delete Device",
          "description": "删除设备",
          "operationId": "delete_device_api_devices__device_id__delete",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "device_id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "title": "Device Id"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/devices/batch": {
        "delete": {
          "tags": [
            "设备管理"
          ],
          "summary": "Batch Delete Devices",
          "description": "批量删除设备",
          "operationId": "batch_delete_devices_api_devices_batch_delete",
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "type": "integer"
                  },
                  "type": "array",
                  "title": "Device Ids"
                }
              }
            },
            "required": true
          },
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          },
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ]
        }
      },
      "/api/devices/statistics": {
        "get": {
          "tags": [
            "设备管理"
          ],
          "summary": "Get Device Statistics",
          "description": "获取设备统计信息",
          "operationId": "get_device_statistics_api_devices_statistics_get",
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            }
          },
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ]
        }
      },
      "/api/devices/import": {
        "post": {
          "tags": [
            "设备管理"
          ],
          "summary": "Import Devices",
          "description": "批量导入设备",
          "operationId": "import_devices_api_devices_import_post",
          "requestBody": {
            "content": {
              "multipart/form-data": {
                "schema": {
                  "$ref": "#/components/schemas/Body_import_devices_api_devices_import_post"
                }
              }
            },
            "required": true
          },
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/DeviceImportResult"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          },
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ]
        }
      },
      "/api/devices/template/download": {
        "get": {
          "tags": [
            "设备管理"
          ],
          "summary": "Download Import Template",
          "description": "下载设备导入模板",
          "operationId": "download_import_template_api_devices_template_download_get",
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            }
          },
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ]
        }
      },
      "/api/devices/export": {
        "get": {
          "tags": [
            "设备管理"
          ],
          "summary": "Export Devices",
          "description": "导出设备数据",
          "operationId": "export_devices_api_devices_export_get",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "name",
              "in": "query",
              "required": false,
              "schema": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Name"
              }
            },
            {
              "name": "type",
              "in": "query",
              "required": false,
              "schema": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Type"
              }
            },
            {
              "name": "status",
              "in": "query",
              "required": false,
              "schema": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Status"
              }
            },
            {
              "name": "location",
              "in": "query",
              "required": false,
              "schema": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Location"
              }
            },
            {
              "name": "ip",
              "in": "query",
              "required": false,
              "schema": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Ip"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/devices/{device_id}/status": {
        "put": {
          "tags": [
            "设备管理"
          ],
          "summary": "Update Device Status",
          "description": "更新设备状态",
          "operationId": "update_device_status_api_devices__device_id__status_put",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "device_id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "title": "Device Id"
              }
            },
            {
              "name": "status",
              "in": "query",
              "required": true,
              "schema": {
                "type": "string",
                "title": "Status"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/devices/batch/status": {
        "post": {
          "tags": [
            "设备管理"
          ],
          "summary": "Batch Update Device Status",
          "description": "批量更新设备状态",
          "operationId": "batch_update_device_status_api_devices_batch_status_post",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "status",
              "in": "query",
              "required": true,
              "schema": {
                "type": "string",
                "title": "Status"
              }
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "integer"
                  },
                  "title": "Device Ids"
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/desktop/test": {
        "get": {
          "tags": [
            "桌面管理",
            "desktop"
          ],
          "summary": "Test Desktop",
          "description": "测试桌面管理接口",
          "operationId": "test_desktop_api_desktop_test_get",
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            }
          }
        }
      },
      "/api/system/status": {
        "get": {
          "tags": [
            "系统管理"
          ],
          "summary": "Get System Status",
          "description": "获取系统状态",
          "operationId": "get_system_status_api_system_status_get",
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            }
          },
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ]
        }
      },
      "/api/system/stats": {
        "get": {
          "tags": [
            "系统管理"
          ],
          "summary": "Get System Stats",
          "description": "获取系统统计信息",
          "operationId": "get_system_stats_api_system_stats_get",
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            }
          },
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ]
        }
      },
      "/api/system/health": {
        "get": {
          "tags": [
            "系统管理"
          ],
          "summary": "Health Check",
          "description": "系统健康检查",
          "operationId": "health_check_api_system_health_get",
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            }
          }
        }
      },
      "/api/system/cleanup/redis": {
        "post": {
          "tags": [
            "系统管理"
          ],
          "summary": "Cleanup Redis",
          "description": "清理Redis过期数据",
          "operationId": "cleanup_redis_api_system_cleanup_redis_post",
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            }
          },
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ]
        }
      },
      "/api/system/logs/recent": {
        "get": {
          "tags": [
            "系统管理"
          ],
          "summary": "Get Recent Logs",
          "description": "获取最近的系统日志",
          "operationId": "get_recent_logs_api_system_logs_recent_get",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "limit",
              "in": "query",
              "required": false,
              "schema": {
                "type": "integer",
                "default": 100,
                "title": "Limit"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/system/performance": {
        "get": {
          "tags": [
            "系统管理"
          ],
          "summary": "Get Performance Metrics",
          "description": "获取性能指标",
          "operationId": "get_performance_metrics_api_system_performance_get",
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            }
          },
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ]
        }
      },
      "/api/chat/send": {
        "post": {
          "tags": [
            "在线聊天"
          ],
          "summary": "发送聊天消息",
          "description": "发送聊天消息",
          "operationId": "send_message_api_chat_send_post",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "room_id",
              "in": "query",
              "required": false,
              "schema": {
                "type": "string",
                "default": "global",
                "title": "Room Id"
              }
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatMessageCreate"
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/ChatMessage"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/chat/upload": {
        "post": {
          "tags": [
            "在线聊天"
          ],
          "summary": "上传文件并发送",
          "description": "上传文件并发送聊天消息",
          "operationId": "upload_file_and_send_api_chat_upload_post",
          "requestBody": {
            "content": {
              "multipart/form-data": {
                "schema": {
                  "$ref": "#/components/schemas/Body_upload_file_and_send_api_chat_upload_post"
                }
              }
            },
            "required": true
          },
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/ChatMessage"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          },
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ]
        }
      },
      "/api/chat/messages": {
        "get": {
          "tags": [
            "在线聊天"
          ],
          "summary": "获取聊天消息",
          "description": "获取聊天消息历史",
          "operationId": "get_messages_api_chat_messages_get",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "room_id",
              "in": "query",
              "required": false,
              "schema": {
                "type": "string",
                "default": "global",
                "title": "Room Id"
              }
            },
            {
              "name": "limit",
              "in": "query",
              "required": false,
              "schema": {
                "type": "integer",
                "default": 50,
                "title": "Limit"
              }
            },
            {
              "name": "before",
              "in": "query",
              "required": false,
              "schema": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Before"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/ChatMessage"
                    },
                    "title": "Response Get Messages Api Chat Messages Get"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/chat/online-users": {
        "get": {
          "tags": [
            "在线聊天"
          ],
          "summary": "获取在线用户",
          "description": "获取在线用户列表",
          "operationId": "get_online_users_api_chat_online_users_get",
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "items": {
                      "$ref": "#/components/schemas/OnlineUser"
                    },
                    "type": "array",
                    "title": "Response Get Online Users Api Chat Online Users Get"
                  }
                }
              }
            }
          },
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ]
        }
      },
      "/api/chat/stats": {
        "get": {
          "tags": [
            "在线聊天"
          ],
          "summary": "获取聊天统计",
          "description": "获取聊天统计信息",
          "operationId": "get_chat_stats_api_chat_stats_get",
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/ChatStats"
                  }
                }
              }
            }
          },
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ]
        }
      },
      "/api/chat/rooms": {
        "get": {
          "tags": [
            "在线聊天"
          ],
          "summary": "获取聊天室列表",
          "description": "获取所有聊天室",
          "operationId": "get_rooms_api_chat_rooms_get",
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            }
          },
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ]
        },
        "post": {
          "tags": [
            "在线聊天"
          ],
          "summary": "创建聊天室",
          "description": "创建新的聊天室",
          "operationId": "create_room_api_chat_rooms_post",
          "requestBody": {
            "content": {
              "application/x-www-form-urlencoded": {
                "schema": {
                  "$ref": "#/components/schemas/Body_create_room_api_chat_rooms_post"
                }
              }
            },
            "required": true
          },
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          },
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ]
        }
      },
      "/api/chat/rooms/{room_id}/join": {
        "post": {
          "tags": [
            "在线聊天"
          ],
          "summary": "加入聊天室",
          "description": "加入聊天室",
          "operationId": "join_room_api_chat_rooms__room_id__join_post",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "room_id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string",
                "title": "Room Id"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/chat/rooms/{room_id}/leave": {
        "post": {
          "tags": [
            "在线聊天"
          ],
          "summary": "离开聊天室",
          "description": "离开聊天室",
          "operationId": "leave_room_api_chat_rooms__room_id__leave_post",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "room_id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string",
                "title": "Room Id"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/chat/messages/{message_id}": {
        "delete": {
          "tags": [
            "在线聊天"
          ],
          "summary": "删除消息",
          "description": "删除聊天消息",
          "operationId": "delete_message_api_chat_messages__message_id__delete",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "message_id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string",
                "title": "Message Id"
              }
            },
            {
              "name": "room_id",
              "in": "query",
              "required": false,
              "schema": {
                "type": "string",
                "default": "global",
                "title": "Room Id"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/chat/user-ip/{user_id}": {
        "get": {
          "tags": [
            "在线聊天"
          ],
          "summary": "获取用户IP",
          "description": "获取指定用户的IP地址",
          "operationId": "get_user_ip_api_chat_user_ip__user_id__get",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "user_id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "title": "User Id"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/chat/heartbeat": {
        "post": {
          "tags": [
            "在线聊天"
          ],
          "summary": "心跳检测",
          "description": "用户心跳检测，保持在线状态",
          "operationId": "heartbeat_api_chat_heartbeat_post",
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            }
          },
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ]
        }
      },
      "/api/knowledge/bases": {
        "post": {
          "tags": [
            "知识库",
            "knowledge"
          ],
          "summary": "创建知识库",
          "description": "创建新的知识库",
          "operationId": "create_knowledge_base_api_knowledge_bases_post",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KnowledgeBaseCreate"
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/KnowledgeBaseResponse"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        },
        "get": {
          "tags": [
            "知识库",
            "knowledge"
          ],
          "summary": "获取知识库列表",
          "description": "获取知识库列表",
          "operationId": "get_knowledge_bases_api_knowledge_bases_get",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "skip",
              "in": "query",
              "required": false,
              "schema": {
                "type": "integer",
                "minimum": 0,
                "description": "跳过记录数",
                "default": 0,
                "title": "Skip"
              },
              "description": "跳过记录数"
            },
            {
              "name": "limit",
              "in": "query",
              "required": false,
              "schema": {
                "type": "integer",
                "maximum": 100,
                "minimum": 1,
                "description": "返回记录数",
                "default": 20,
                "title": "Limit"
              },
              "description": "返回记录数"
            },
            {
              "name": "category",
              "in": "query",
              "required": false,
              "schema": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "description": "分类筛选",
                "title": "Category"
              },
              "description": "分类筛选"
            },
            {
              "name": "status",
              "in": "query",
              "required": false,
              "schema": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "description": "状态筛选",
                "title": "Status"
              },
              "description": "状态筛选"
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/KnowledgeBaseResponse"
                    },
                    "title": "Response Get Knowledge Bases Api Knowledge Bases Get"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/knowledge/bases/{knowledge_base_id}": {
        "get": {
          "tags": [
            "知识库",
            "knowledge"
          ],
          "summary": "获取知识库详情",
          "description": "获取指定知识库的详细信息",
          "operationId": "get_knowledge_base_api_knowledge_bases__knowledge_base_id__get",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "knowledge_base_id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "title": "Knowledge Base Id"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/KnowledgeBaseResponse"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        },
        "put": {
          "tags": [
            "知识库",
            "knowledge"
          ],
          "summary": "更新知识库",
          "description": "更新知识库信息",
          "operationId": "update_knowledge_base_api_knowledge_bases__knowledge_base_id__put",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "knowledge_base_id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "title": "Knowledge Base Id"
              }
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KnowledgeBaseUpdate"
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/KnowledgeBaseResponse"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        },
        "delete": {
          "tags": [
            "知识库",
            "knowledge"
          ],
          "summary": "删除知识库",
          "description": "删除知识库及其所有文档",
          "operationId": "delete_knowledge_base_api_knowledge_bases__knowledge_base_id__delete",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "knowledge_base_id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "title": "Knowledge Base Id"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/knowledge/documents": {
        "post": {
          "tags": [
            "知识库",
            "knowledge"
          ],
          "summary": "创建文档",
          "description": "创建新文档，支持文件上传",
          "operationId": "create_document_api_knowledge_documents_post",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "multipart/form-data": {
                "schema": {
                  "$ref": "#/components/schemas/Body_create_document_api_knowledge_documents_post"
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/KnowledgeDocumentResponse"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        },
        "get": {
          "tags": [
            "知识库",
            "knowledge"
          ],
          "summary": "获取文档列表",
          "description": "获取文档列表",
          "operationId": "get_documents_api_knowledge_documents_get",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "knowledge_base_id",
              "in": "query",
              "required": false,
              "schema": {
                "anyOf": [
                  {
                    "type": "integer"
                  },
                  {
                    "type": "null"
                  }
                ],
                "description": "知识库ID",
                "title": "Knowledge Base Id"
              },
              "description": "知识库ID"
            },
            {
              "name": "skip",
              "in": "query",
              "required": false,
              "schema": {
                "type": "integer",
                "minimum": 0,
                "description": "跳过记录数",
                "default": 0,
                "title": "Skip"
              },
              "description": "跳过记录数"
            },
            {
              "name": "limit",
              "in": "query",
              "required": false,
              "schema": {
                "type": "integer",
                "maximum": 100,
                "minimum": 1,
                "description": "返回记录数",
                "default": 20,
                "title": "Limit"
              },
              "description": "返回记录数"
            },
            {
              "name": "source_type",
              "in": "query",
              "required": false,
              "schema": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "description": "来源类型筛选",
                "title": "Source Type"
              },
              "description": "来源类型筛选"
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/KnowledgeDocumentResponse"
                    },
                    "title": "Response Get Documents Api Knowledge Documents Get"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/knowledge/documents/{document_id}": {
        "get": {
          "tags": [
            "知识库",
            "knowledge"
          ],
          "summary": "获取文档详情",
          "description": "获取指定文档的详细信息",
          "operationId": "get_document_api_knowledge_documents__document_id__get",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "document_id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "title": "Document Id"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/KnowledgeDocumentResponse"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        },
        "put": {
          "tags": [
            "知识库",
            "knowledge"
          ],
          "summary": "更新文档",
          "description": "更新文档信息",
          "operationId": "update_document_api_knowledge_documents__document_id__put",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "document_id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "title": "Document Id"
              }
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KnowledgeDocumentUpdate"
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/KnowledgeDocumentResponse"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        },
        "delete": {
          "tags": [
            "知识库",
            "knowledge"
          ],
          "summary": "删除文档",
          "description": "删除文档",
          "operationId": "delete_document_api_knowledge_documents__document_id__delete",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "document_id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "title": "Document Id"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/knowledge/ai-models": {
        "post": {
          "tags": [
            "知识库",
            "knowledge"
          ],
          "summary": "创建AI模型配置",
          "description": "创建AI模型配置",
          "operationId": "create_ai_model_api_knowledge_ai_models_post",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AIModelCreate"
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/AIModelResponse"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        },
        "get": {
          "tags": [
            "知识库",
            "knowledge"
          ],
          "summary": "获取AI模型列表",
          "description": "获取AI模型配置列表",
          "operationId": "get_ai_models_api_knowledge_ai_models_get",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "skip",
              "in": "query",
              "required": false,
              "schema": {
                "type": "integer",
                "minimum": 0,
                "description": "跳过记录数",
                "default": 0,
                "title": "Skip"
              },
              "description": "跳过记录数"
            },
            {
              "name": "limit",
              "in": "query",
              "required": false,
              "schema": {
                "type": "integer",
                "maximum": 100,
                "minimum": 1,
                "description": "返回记录数",
                "default": 20,
                "title": "Limit"
              },
              "description": "返回记录数"
            },
            {
              "name": "model_type",
              "in": "query",
              "required": false,
              "schema": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "description": "模型类型筛选",
                "title": "Model Type"
              },
              "description": "模型类型筛选"
            },
            {
              "name": "provider",
              "in": "query",
              "required": false,
              "schema": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "description": "提供商筛选",
                "title": "Provider"
              },
              "description": "提供商筛选"
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/AIModelResponse"
                    },
                    "title": "Response Get Ai Models Api Knowledge Ai Models Get"
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/api/knowledge/statistics": {
        "get": {
          "tags": [
            "知识库",
            "knowledge"
          ],
          "summary": "获取知识库统计信息",
          "description": "获取知识库统计信息",
          "operationId": "get_knowledge_statistics_api_knowledge_statistics_get",
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/KnowledgeStatistics"
                  }
                }
              }
            }
          },
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ]
        }
      },
      "/api/knowledge/documents/{document_id}/download": {
        "get": {
          "tags": [
            "知识库",
            "knowledge"
          ],
          "summary": "下载文档文件",
          "description": "下载文档文件",
          "operationId": "download_document_api_knowledge_documents__document_id__download_get",
          "security": [
            {
              "OAuth2PasswordBearer": []
            }
          ],
          "parameters": [
            {
              "name": "document_id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "title": "Document Id"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/HTTPValidationError"
                  }
                }
              }
            }
          }
        }
      },
      "/": {
        "get": {
          "summary": "Root",
          "description": "根路径",
          "operationId": "root__get",
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            }
          }
        }
      },
      "/health": {
        "get": {
          "summary": "Health Check",
          "description": "健康检查",
          "operationId": "health_check_health_get",
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": {
                "application/json": {
                  "schema": {
  
                  }
                }
              }
            }
          }
        }
      }
    },
    "components": {
      "schemas": {
        "AIModelCreate": {
          "properties": {
            "name": {
              "type": "string",
              "title": "Name",
              "description": "模型名称"
            },
            "model_type": {
              "type": "string",
              "title": "Model Type",
              "description": "模型类型"
            },
            "provider": {
              "type": "string",
              "title": "Provider",
              "description": "提供商"
            },
            "api_endpoint": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Api Endpoint",
              "description": "API端点"
            },
            "api_key": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Api Key",
              "description": "API密钥"
            },
            "config_params": {
              "anyOf": [
                {
                  "additionalProperties": true,
                  "type": "object"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Config Params",
              "description": "模型配置参数"
            },
            "is_default": {
              "type": "boolean",
              "title": "Is Default",
              "description": "是否为默认模型",
              "default": false
            },
            "status": {
              "type": "string",
              "title": "Status",
              "description": "状态",
              "default": "active"
            }
          },
          "type": "object",
          "required": [
            "name",
            "model_type",
            "provider"
          ],
          "title": "AIModelCreate",
          "description": "创建AI模型请求模式"
        },
        "AIModelResponse": {
          "properties": {
            "name": {
              "type": "string",
              "title": "Name",
              "description": "模型名称"
            },
            "model_type": {
              "type": "string",
              "title": "Model Type",
              "description": "模型类型"
            },
            "provider": {
              "type": "string",
              "title": "Provider",
              "description": "提供商"
            },
            "api_endpoint": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Api Endpoint",
              "description": "API端点"
            },
            "api_key": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Api Key",
              "description": "API密钥"
            },
            "config_params": {
              "anyOf": [
                {
                  "additionalProperties": true,
                  "type": "object"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Config Params",
              "description": "模型配置参数"
            },
            "is_default": {
              "type": "boolean",
              "title": "Is Default",
              "description": "是否为默认模型",
              "default": false
            },
            "status": {
              "type": "string",
              "title": "Status",
              "description": "状态",
              "default": "active"
            },
            "id": {
              "type": "integer",
              "title": "Id"
            },
            "created_at": {
              "type": "string",
              "format": "date-time",
              "title": "Created At"
            },
            "updated_at": {
              "type": "string",
              "format": "date-time",
              "title": "Updated At"
            }
          },
          "type": "object",
          "required": [
            "name",
            "model_type",
            "provider",
            "id",
            "created_at",
            "updated_at"
          ],
          "title": "AIModelResponse",
          "description": "AI模型响应模式"
        },
        "Body_bulk_import_tasks_api_tasks_bulk_import_post": {
          "properties": {
            "file": {
              "type": "string",
              "format": "binary",
              "title": "File"
            }
          },
          "type": "object",
          "required": [
            "file"
          ],
          "title": "Body_bulk_import_tasks_api_tasks_bulk_import_post"
        },
        "Body_bulk_import_users_api_users_bulk_import_post": {
          "properties": {
            "file": {
              "type": "string",
              "format": "binary",
              "title": "File"
            }
          },
          "type": "object",
          "required": [
            "file"
          ],
          "title": "Body_bulk_import_users_api_users_bulk_import_post"
        },
        "Body_create_document_api_knowledge_documents_post": {
          "properties": {
            "title": {
              "type": "string",
              "title": "Title"
            },
            "content": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Content"
            },
            "source_type": {
              "type": "string",
              "title": "Source Type"
            },
            "source_url": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Source Url"
            },
            "keywords": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Keywords"
            },
            "knowledge_base_id": {
              "type": "integer",
              "title": "Knowledge Base Id"
            },
            "file": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "binary"
                },
                {
                  "type": "null"
                }
              ],
              "title": "File"
            }
          },
          "type": "object",
          "required": [
            "title",
            "source_type",
            "knowledge_base_id"
          ],
          "title": "Body_create_document_api_knowledge_documents_post"
        },
        "Body_create_room_api_chat_rooms_post": {
          "properties": {
            "room_name": {
              "type": "string",
              "title": "Room Name"
            },
            "description": {
              "type": "string",
              "title": "Description",
              "default": ""
            }
          },
          "type": "object",
          "required": [
            "room_name"
          ],
          "title": "Body_create_room_api_chat_rooms_post"
        },
        "Body_import_devices_api_devices_import_post": {
          "properties": {
            "file": {
              "type": "string",
              "format": "binary",
              "title": "File"
            }
          },
          "type": "object",
          "required": [
            "file"
          ],
          "title": "Body_import_devices_api_devices_import_post"
        },
        "Body_login_for_access_token_api_auth_login_post": {
          "properties": {
            "login_type": {
              "type": "string",
              "title": "Login Type"
            },
            "grant_type": {
              "anyOf": [
                {
                  "type": "string",
                  "pattern": "^password$"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Grant Type"
            },
            "username": {
              "type": "string",
              "title": "Username"
            },
            "password": {
              "type": "string",
              "title": "Password"
            },
            "scope": {
              "type": "string",
              "title": "Scope",
              "default": ""
            },
            "client_id": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Client Id"
            },
            "client_secret": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Client Secret"
            }
          },
          "type": "object",
          "required": [
            "login_type",
            "username",
            "password"
          ],
          "title": "Body_login_for_access_token_api_auth_login_post"
        },
        "Body_upload_file_and_send_api_chat_upload_post": {
          "properties": {
            "file": {
              "type": "string",
              "format": "binary",
              "title": "File"
            },
            "room_id": {
              "type": "string",
              "title": "Room Id",
              "default": "global"
            }
          },
          "type": "object",
          "required": [
            "file"
          ],
          "title": "Body_upload_file_and_send_api_chat_upload_post"
        },
        "BulkImportResult": {
          "properties": {
            "success_count": {
              "type": "integer",
              "title": "Success Count"
            },
            "fail_count": {
              "type": "integer",
              "title": "Fail Count"
            },
            "failed_users": {
              "items": {
                "additionalProperties": true,
                "type": "object"
              },
              "type": "array",
              "title": "Failed Users"
            },
            "message": {
              "type": "string",
              "title": "Message"
            }
          },
          "type": "object",
          "required": [
            "success_count",
            "fail_count",
            "failed_users",
            "message"
          ],
          "title": "BulkImportResult",
          "description": "批量导入结果"
        },
        "ChatMessage": {
          "properties": {
            "id": {
              "type": "string",
              "title": "Id",
              "description": "消息ID"
            },
            "sender_id": {
              "type": "integer",
              "title": "Sender Id",
              "description": "发送者ID"
            },
            "sender_name": {
              "type": "string",
              "title": "Sender Name",
              "description": "发送者用户名"
            },
            "sender_role": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Sender Role",
              "description": "发送者角色"
            },
            "message_type": {
              "$ref": "#/components/schemas/MessageType",
              "description": "消息类型",
              "default": "text"
            },
            "content": {
              "type": "string",
              "title": "Content",
              "description": "消息内容"
            },
            "file_url": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "File Url",
              "description": "文件URL"
            },
            "file_name": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "File Name",
              "description": "文件名"
            },
            "file_size": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "File Size",
              "description": "文件大小"
            },
            "timestamp": {
              "type": "string",
              "format": "date-time",
              "title": "Timestamp",
              "description": "发送时间"
            },
            "reply_to": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Reply To",
              "description": "回复的消息ID"
            }
          },
          "type": "object",
          "required": [
            "id",
            "sender_id",
            "sender_name",
            "content",
            "timestamp"
          ],
          "title": "ChatMessage",
          "description": "聊天消息基础模型"
        },
        "ChatMessageCreate": {
          "properties": {
            "message_type": {
              "$ref": "#/components/schemas/MessageType",
              "description": "消息类型",
              "default": "text"
            },
            "content": {
              "type": "string",
              "maxLength": 5000,
              "minLength": 1,
              "title": "Content",
              "description": "消息内容"
            },
            "reply_to": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Reply To",
              "description": "回复的消息ID"
            }
          },
          "type": "object",
          "required": [
            "content"
          ],
          "title": "ChatMessageCreate",
          "description": "创建聊天消息请求模型"
        },
        "ChatStats": {
          "properties": {
            "online_users_count": {
              "type": "integer",
              "title": "Online Users Count",
              "description": "在线用户数"
            },
            "total_messages_today": {
              "type": "integer",
              "title": "Total Messages Today",
              "description": "今日消息总数"
            },
            "active_rooms": {
              "type": "integer",
              "title": "Active Rooms",
              "description": "活跃聊天室数"
            }
          },
          "type": "object",
          "required": [
            "online_users_count",
            "total_messages_today",
            "active_rooms"
          ],
          "title": "ChatStats",
          "description": "聊天统计信息"
        },
        "DeviceCreate": {
          "properties": {
            "name": {
              "type": "string",
              "maxLength": 255,
              "minLength": 1,
              "title": "Name",
              "description": "设备名称"
            },
            "type": {
              "anyOf": [
                {
                  "type": "string",
                  "maxLength": 100
                },
                {
                  "type": "null"
                }
              ],
              "title": "Type",
              "description": "设备类型"
            },
            "ip": {
              "anyOf": [
                {
                  "type": "string",
                  "maxLength": 50
                },
                {
                  "type": "null"
                }
              ],
              "title": "Ip",
              "description": "设备IP地址"
            },
            "status": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status",
              "description": "设备状态",
              "default": "offline"
            },
            "location": {
              "anyOf": [
                {
                  "type": "string",
                  "maxLength": 255
                },
                {
                  "type": "null"
                }
              ],
              "title": "Location",
              "description": "设备位置"
            }
          },
          "type": "object",
          "required": [
            "name"
          ],
          "title": "DeviceCreate",
          "description": "设备创建模式"
        },
        "DeviceImportResult": {
          "properties": {
            "success_count": {
              "type": "integer",
              "title": "Success Count",
              "description": "成功导入数量"
            },
            "failure_count": {
              "type": "integer",
              "title": "Failure Count",
              "description": "失败数量"
            },
            "success_devices": {
              "items": {
                "$ref": "#/components/schemas/DeviceResponse"
              },
              "type": "array",
              "title": "Success Devices",
              "description": "成功导入的设备"
            },
            "failure_details": {
              "items": {
                "additionalProperties": true,
                "type": "object"
              },
              "type": "array",
              "title": "Failure Details",
              "description": "失败详情"
            }
          },
          "type": "object",
          "required": [
            "success_count",
            "failure_count",
            "success_devices",
            "failure_details"
          ],
          "title": "DeviceImportResult",
          "description": "设备导入结果"
        },
        "DeviceListResponse": {
          "properties": {
            "devices": {
              "items": {
                "$ref": "#/components/schemas/DeviceResponse"
              },
              "type": "array",
              "title": "Devices"
            },
            "total": {
              "type": "integer",
              "title": "Total"
            },
            "page": {
              "type": "integer",
              "title": "Page"
            },
            "page_size": {
              "type": "integer",
              "title": "Page Size"
            }
          },
          "type": "object",
          "required": [
            "devices",
            "total",
            "page",
            "page_size"
          ],
          "title": "DeviceListResponse",
          "description": "设备列表响应"
        },
        "DeviceResponse": {
          "properties": {
            "name": {
              "type": "string",
              "maxLength": 255,
              "minLength": 1,
              "title": "Name",
              "description": "设备名称"
            },
            "type": {
              "anyOf": [
                {
                  "type": "string",
                  "maxLength": 100
                },
                {
                  "type": "null"
                }
              ],
              "title": "Type",
              "description": "设备类型"
            },
            "ip": {
              "anyOf": [
                {
                  "type": "string",
                  "maxLength": 50
                },
                {
                  "type": "null"
                }
              ],
              "title": "Ip",
              "description": "设备IP地址"
            },
            "status": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status",
              "description": "设备状态",
              "default": "offline"
            },
            "location": {
              "anyOf": [
                {
                  "type": "string",
                  "maxLength": 255
                },
                {
                  "type": "null"
                }
              ],
              "title": "Location",
              "description": "设备位置"
            },
            "id": {
              "type": "integer",
              "title": "Id"
            }
          },
          "type": "object",
          "required": [
            "name",
            "id"
          ],
          "title": "DeviceResponse",
          "description": "设备响应模式"
        },
        "DeviceUpdate": {
          "properties": {
            "name": {
              "anyOf": [
                {
                  "type": "string",
                  "maxLength": 255,
                  "minLength": 1
                },
                {
                  "type": "null"
                }
              ],
              "title": "Name",
              "description": "设备名称"
            },
            "type": {
              "anyOf": [
                {
                  "type": "string",
                  "maxLength": 100
                },
                {
                  "type": "null"
                }
              ],
              "title": "Type",
              "description": "设备类型"
            },
            "ip": {
              "anyOf": [
                {
                  "type": "string",
                  "maxLength": 50
                },
                {
                  "type": "null"
                }
              ],
              "title": "Ip",
              "description": "设备IP地址"
            },
            "status": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status",
              "description": "设备状态"
            },
            "location": {
              "anyOf": [
                {
                  "type": "string",
                  "maxLength": 255
                },
                {
                  "type": "null"
                }
              ],
              "title": "Location",
              "description": "设备位置"
            }
          },
          "type": "object",
          "title": "DeviceUpdate",
          "description": "设备更新模式"
        },
        "HTTPValidationError": {
          "properties": {
            "detail": {
              "items": {
                "$ref": "#/components/schemas/ValidationError"
              },
              "type": "array",
              "title": "Detail"
            }
          },
          "type": "object",
          "title": "HTTPValidationError"
        },
        "KnowledgeBaseCreate": {
          "properties": {
            "name": {
              "type": "string",
              "title": "Name",
              "description": "知识库名称"
            },
            "description": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Description",
              "description": "知识库描述"
            },
            "category": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Category",
              "description": "知识库分类"
            },
            "tags": {
              "anyOf": [
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Tags",
              "description": "标签"
            },
            "is_public": {
              "type": "boolean",
              "title": "Is Public",
              "description": "是否公开",
              "default": true
            },
            "status": {
              "type": "string",
              "title": "Status",
              "description": "状态",
              "default": "active"
            }
          },
          "type": "object",
          "required": [
            "name"
          ],
          "title": "KnowledgeBaseCreate",
          "description": "创建知识库请求模式"
        },
        "KnowledgeBaseResponse": {
          "properties": {
            "name": {
              "type": "string",
              "title": "Name",
              "description": "知识库名称"
            },
            "description": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Description",
              "description": "知识库描述"
            },
            "category": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Category",
              "description": "知识库分类"
            },
            "tags": {
              "anyOf": [
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Tags",
              "description": "标签"
            },
            "is_public": {
              "type": "boolean",
              "title": "Is Public",
              "description": "是否公开",
              "default": true
            },
            "status": {
              "type": "string",
              "title": "Status",
              "description": "状态",
              "default": "active"
            },
            "id": {
              "type": "integer",
              "title": "Id"
            },
            "creator_id": {
              "type": "integer",
              "title": "Creator Id"
            },
            "document_count": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Document Count",
              "default": 0
            },
            "created_at": {
              "type": "string",
              "format": "date-time",
              "title": "Created At"
            },
            "updated_at": {
              "type": "string",
              "format": "date-time",
              "title": "Updated At"
            }
          },
          "type": "object",
          "required": [
            "name",
            "id",
            "creator_id",
            "created_at",
            "updated_at"
          ],
          "title": "KnowledgeBaseResponse",
          "description": "知识库响应模式"
        },
        "KnowledgeBaseUpdate": {
          "properties": {
            "name": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Name"
            },
            "description": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Description"
            },
            "category": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Category"
            },
            "tags": {
              "anyOf": [
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Tags"
            },
            "is_public": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Is Public"
            },
            "status": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            }
          },
          "type": "object",
          "title": "KnowledgeBaseUpdate",
          "description": "更新知识库请求模式"
        },
        "KnowledgeDocumentResponse": {
          "properties": {
            "title": {
              "type": "string",
              "title": "Title",
              "description": "文档标题"
            },
            "content": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Content",
              "description": "文档内容"
            },
            "source_type": {
              "type": "string",
              "title": "Source Type",
              "description": "来源类型"
            },
            "source_url": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Source Url",
              "description": "来源URL"
            },
            "keywords": {
              "anyOf": [
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Keywords",
              "description": "关键词"
            },
            "id": {
              "type": "integer",
              "title": "Id"
            },
            "file_path": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "File Path"
            },
            "file_type": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "File Type"
            },
            "file_size": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "File Size"
            },
            "is_processed": {
              "type": "boolean",
              "title": "Is Processed",
              "default": false
            },
            "knowledge_base_id": {
              "type": "integer",
              "title": "Knowledge Base Id"
            },
            "creator_id": {
              "type": "integer",
              "title": "Creator Id"
            },
            "created_at": {
              "type": "string",
              "format": "date-time",
              "title": "Created At"
            },
            "updated_at": {
              "type": "string",
              "format": "date-time",
              "title": "Updated At"
            }
          },
          "type": "object",
          "required": [
            "title",
            "source_type",
            "id",
            "knowledge_base_id",
            "creator_id",
            "created_at",
            "updated_at"
          ],
          "title": "KnowledgeDocumentResponse",
          "description": "知识库文档响应模式"
        },
        "KnowledgeDocumentUpdate": {
          "properties": {
            "title": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Title"
            },
            "content": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Content"
            },
            "source_url": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Source Url"
            },
            "keywords": {
              "anyOf": [
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Keywords"
            }
          },
          "type": "object",
          "title": "KnowledgeDocumentUpdate",
          "description": "更新知识库文档请求模式"
        },
        "KnowledgeStatistics": {
          "properties": {
            "total_knowledge_bases": {
              "type": "integer",
              "title": "Total Knowledge Bases"
            },
            "total_documents": {
              "type": "integer",
              "title": "Total Documents"
            },
            "categories": {
              "items": {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    }
                  ]
                },
                "type": "object"
              },
              "type": "array",
              "title": "Categories"
            },
            "recent_documents": {
              "items": {
                "$ref": "#/components/schemas/KnowledgeDocumentResponse"
              },
              "type": "array",
              "title": "Recent Documents"
            }
          },
          "type": "object",
          "required": [
            "total_knowledge_bases",
            "total_documents",
            "categories",
            "recent_documents"
          ],
          "title": "KnowledgeStatistics",
          "description": "知识库统计信息"
        },
        "MessageType": {
          "type": "string",
          "enum": [
            "text",
            "file",
            "image",
            "system"
          ],
          "title": "MessageType",
          "description": "消息类型枚举"
        },
        "OnlineUser": {
          "properties": {
            "user_id": {
              "type": "integer",
              "title": "User Id",
              "description": "用户ID"
            },
            "username": {
              "type": "string",
              "title": "Username",
              "description": "用户名"
            },
            "ip": {
              "type": "string",
              "title": "Ip",
              "description": "IP地址"
            },
            "user_agent": {
              "type": "string",
              "title": "User Agent",
              "description": "用户代理"
            },
            "login_time": {
              "type": "string",
              "format": "date-time",
              "title": "Login Time",
              "description": "登录时间"
            },
            "last_activity": {
              "type": "string",
              "format": "date-time",
              "title": "Last Activity",
              "description": "最后活动时间"
            }
          },
          "type": "object",
          "required": [
            "user_id",
            "username",
            "ip",
            "user_agent",
            "login_time",
            "last_activity"
          ],
          "title": "OnlineUser",
          "description": "在线用户模型"
        },
        "Task": {
          "properties": {
            "name": {
              "type": "string",
              "title": "Name"
            },
            "type": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Type"
            },
            "phase": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Phase"
            },
            "description": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Description"
            },
            "status": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status",
              "default": "未分配"
            },
            "assignee": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Assignee"
            },
            "role_binding": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Role Binding"
            },
            "id": {
              "type": "integer",
              "title": "Id"
            },
            "create_time": {
              "type": "string",
              "format": "date-time",
              "title": "Create Time"
            },
            "update_time": {
              "type": "string",
              "format": "date-time",
              "title": "Update Time"
            },
            "assignments": {
              "items": {
                "$ref": "#/components/schemas/TaskAssignmentResponse"
              },
              "type": "array",
              "title": "Assignments",
              "default": []
            }
          },
          "type": "object",
          "required": [
            "name",
            "id",
            "create_time",
            "update_time"
          ],
          "title": "Task",
          "description": "任务响应模式"
        },
        "TaskAssignmentCreate": {
          "properties": {
            "task_id": {
              "type": "integer",
              "title": "Task Id"
            },
            "user_id": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            },
            "username": {
              "type": "string",
              "title": "Username"
            },
            "status": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status",
              "default": "进行中"
            },
            "progress": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Progress",
              "default": 0
            },
            "performance_score": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Performance Score",
              "default": 0
            },
            "comments": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Comments"
            }
          },
          "type": "object",
          "required": [
            "task_id",
            "username"
          ],
          "title": "TaskAssignmentCreate",
          "description": "任务分配创建模式"
        },
        "TaskAssignmentResponse": {
          "properties": {
            "task_id": {
              "type": "integer",
              "title": "Task Id"
            },
            "user_id": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            },
            "username": {
              "type": "string",
              "title": "Username"
            },
            "status": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status",
              "default": "进行中"
            },
            "progress": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Progress",
              "default": 0
            },
            "performance_score": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Performance Score",
              "default": 0
            },
            "comments": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Comments"
            },
            "id": {
              "type": "integer",
              "title": "Id"
            },
            "assigned_at": {
              "type": "string",
              "format": "date-time",
              "title": "Assigned At"
            },
            "last_update": {
              "type": "string",
              "format": "date-time",
              "title": "Last Update"
            },
            "task_name": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Task Name"
            },
            "task_type": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Task Type"
            },
            "task_phase": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Task Phase"
            }
          },
          "type": "object",
          "required": [
            "task_id",
            "username",
            "id",
            "assigned_at",
            "last_update"
          ],
          "title": "TaskAssignmentResponse",
          "description": "任务分配响应模式"
        },
        "TaskAssignmentUpdate": {
          "properties": {
            "status": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            },
            "progress": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Progress"
            },
            "performance_score": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Performance Score"
            },
            "comments": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Comments"
            }
          },
          "type": "object",
          "title": "TaskAssignmentUpdate",
          "description": "任务分配更新模式"
        },
        "TaskBulkImportResult": {
          "properties": {
            "success_count": {
              "type": "integer",
              "title": "Success Count"
            },
            "fail_count": {
              "type": "integer",
              "title": "Fail Count"
            },
            "failed_tasks": {
              "items": {
                "additionalProperties": true,
                "type": "object"
              },
              "type": "array",
              "title": "Failed Tasks"
            },
            "message": {
              "type": "string",
              "title": "Message"
            }
          },
          "type": "object",
          "required": [
            "success_count",
            "fail_count",
            "failed_tasks",
            "message"
          ],
          "title": "TaskBulkImportResult",
          "description": "任务批量导入结果"
        },
        "TaskCreate": {
          "properties": {
            "name": {
              "type": "string",
              "title": "Name"
            },
            "type": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Type"
            },
            "phase": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Phase"
            },
            "description": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Description"
            },
            "status": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status",
              "default": "未分配"
            },
            "assignee": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Assignee"
            },
            "role_binding": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Role Binding"
            }
          },
          "type": "object",
          "required": [
            "name"
          ],
          "title": "TaskCreate",
          "description": "创建任务模式"
        },
        "TaskUpdate": {
          "properties": {
            "name": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Name"
            },
            "type": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Type"
            },
            "phase": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Phase"
            },
            "description": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Description"
            },
            "status": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            }
          },
          "type": "object",
          "title": "TaskUpdate",
          "description": "更新任务模式"
        },
        "TaskWithAssignments": {
          "properties": {
            "name": {
              "type": "string",
              "title": "Name"
            },
            "type": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Type"
            },
            "phase": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Phase"
            },
            "description": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Description"
            },
            "status": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status",
              "default": "未分配"
            },
            "assignee": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Assignee"
            },
            "role_binding": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Role Binding"
            },
            "id": {
              "type": "integer",
              "title": "Id"
            },
            "create_time": {
              "type": "string",
              "format": "date-time",
              "title": "Create Time"
            },
            "update_time": {
              "type": "string",
              "format": "date-time",
              "title": "Update Time"
            },
            "assignments": {
              "items": {
                "$ref": "#/components/schemas/TaskAssignmentResponse"
              },
              "type": "array",
              "title": "Assignments",
              "default": []
            }
          },
          "type": "object",
          "required": [
            "name",
            "id",
            "create_time",
            "update_time"
          ],
          "title": "TaskWithAssignments",
          "description": "包含分配信息的任务模式"
        },
        "Token": {
          "properties": {
            "access_token": {
              "type": "string",
              "title": "Access Token"
            },
            "token_type": {
              "type": "string",
              "title": "Token Type"
            },
            "user": {
              "$ref": "#/components/schemas/UserResponse"
            }
          },
          "type": "object",
          "required": [
            "access_token",
            "token_type",
            "user"
          ],
          "title": "Token",
          "description": "访问令牌模式"
        },
        "UserCreate": {
          "properties": {
            "username": {
              "type": "string",
              "title": "Username"
            },
            "role": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Role"
            },
            "type": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Type"
            },
            "status": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status",
              "default": "inactive"
            },
            "password": {
              "type": "string",
              "title": "Password"
            }
          },
          "type": "object",
          "required": [
            "username",
            "password"
          ],
          "title": "UserCreate",
          "description": "用户创建模式"
        },
        "UserResponse": {
          "properties": {
            "username": {
              "type": "string",
              "title": "Username"
            },
            "role": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Role"
            },
            "type": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Type"
            },
            "status": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status",
              "default": "inactive"
            },
            "id": {
              "type": "integer",
              "title": "Id"
            },
            "created_at": {
              "type": "string",
              "format": "date-time",
              "title": "Created At"
            },
            "updated_at": {
              "type": "string",
              "format": "date-time",
              "title": "Updated At"
            }
          },
          "type": "object",
          "required": [
            "username",
            "id",
            "created_at",
            "updated_at"
          ],
          "title": "UserResponse",
          "description": "用户响应模式"
        },
        "UserUpdate": {
          "properties": {
            "role": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Role"
            },
            "type": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Type"
            },
            "status": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            },
            "photo_data": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Photo Data"
            }
          },
          "type": "object",
          "title": "UserUpdate",
          "description": "用户更新模式"
        },
        "ValidationError": {
          "properties": {
            "loc": {
              "items": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "integer"
                  }
                ]
              },
              "type": "array",
              "title": "Location"
            },
            "msg": {
              "type": "string",
              "title": "Message"
            },
            "type": {
              "type": "string",
              "title": "Error Type"
            }
          },
          "type": "object",
          "required": [
            "loc",
            "msg",
            "type"
          ],
          "title": "ValidationError"
        }
      },
      "securitySchemes": {
        "OAuth2PasswordBearer": {
          "type": "oauth2",
          "flows": {
            "password": {
              "scopes": {
  
              },
              "tokenUrl": "auth/login"
            }
          }
        }
      }
    }
  }